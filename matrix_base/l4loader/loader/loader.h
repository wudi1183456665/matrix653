/*********************************************************************************************************
**
**                                    中国软件开源组织
**
**                                   嵌入式实时操作系统
**
**                                SylixOS(TM)  LW : long wing
**
**                               Copyright All Rights Reserved
**
**--------------文件信息--------------------------------------------------------------------------------
**
** 文   件   名: loader.h
**
** 创   建   人: Wang.Dongfang (王东方)
**
** 文件创建日期: 2017 年 10 月 31 日
**
** 描        述: loader 通用文件头.
*********************************************************************************************************/

#ifndef __LOADER_H
#define __LOADER_H

/*********************************************************************************************************
  体系结构配置
*********************************************************************************************************/
#include "./arch/arch_inc.h"                                            /*  体系结构相关                */
/*********************************************************************************************************
  KIP结构体定义
*********************************************************************************************************/
#include "./kip.h"                                                      /*  微内核相关                  */
/*********************************************************************************************************
  内存区描述
*********************************************************************************************************/
#include "./region/region.h"
/*********************************************************************************************************
  LW_NULL, LW_FALSE, LW_TRUE 宏定义
*********************************************************************************************************/
#define  LW_NULL                           ((PVOID)0)                   /*  C   下的 NULL               */
#define  LW_FALSE                          (0)                          /*  0x0                         */
#define  LW_TRUE                           (1)                          /*  0x1                         */
/*********************************************************************************************************
  Loader 错误码
*********************************************************************************************************/
#define  ERROR_NONE                        0                            /*  系统没有任何错误            */
#define  ERROR_ELF_FORMAT                  (-1)                         /*  matrix.elf 格式错误         */
#define  ERROR_ELF_KIP                     (-2)                         /*  获取 KIP 结构体失败         */
#define  ERROR_REGION_LACK                 (-3)                         /*  内存区匮乏                  */
#define  ERROR_REGION_ALIGN                (-4)                         /*  内存区对齐错误              */
/*********************************************************************************************************
  loader 为 BSP 提供的函数接口，在 BSP 获取到内存信息后，调用此函数进行 ELF 文件的加载
*********************************************************************************************************/
VOID  loaderStart(CPCHAR  pcBootCmdLine, REGION  *prgMemory, UINT32  uiRgNum);

#endif                                                                  /*  __LOADER_H                  */
/*********************************************************************************************************
  END
*********************************************************************************************************/
